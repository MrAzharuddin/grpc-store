<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url('https://themes.googleusercontent.com/fonts/css?kit=dpiI8CyVsrzWsJLBFKehGpLhv3qFjX7dUn1mYxfCXhI');ul.lst-kix_1u7u4o2a5h3s-8{list-style-type:none}ul.lst-kix_1u7u4o2a5h3s-7{list-style-type:none}ul.lst-kix_1u7u4o2a5h3s-6{list-style-type:none}ul.lst-kix_jmcswpwgb9p3-1{list-style-type:none}ul.lst-kix_1u7u4o2a5h3s-5{list-style-type:none}ul.lst-kix_jmcswpwgb9p3-2{list-style-type:none}ul.lst-kix_1u7u4o2a5h3s-4{list-style-type:none}ul.lst-kix_1u7u4o2a5h3s-3{list-style-type:none}ul.lst-kix_jmcswpwgb9p3-0{list-style-type:none}ul.lst-kix_1u7u4o2a5h3s-2{list-style-type:none}.lst-kix_jmcswpwgb9p3-1>li:before{content:"\0025cb  "}ul.lst-kix_jmcswpwgb9p3-5{list-style-type:none}ul.lst-kix_jmcswpwgb9p3-6{list-style-type:none}.lst-kix_jmcswpwgb9p3-0>li:before{content:"\0025cf  "}ul.lst-kix_jmcswpwgb9p3-3{list-style-type:none}ul.lst-kix_jmcswpwgb9p3-4{list-style-type:none}ul.lst-kix_jmcswpwgb9p3-7{list-style-type:none}ul.lst-kix_jmcswpwgb9p3-8{list-style-type:none}.lst-kix_jmcswpwgb9p3-5>li:before{content:"\0025a0  "}.lst-kix_1u7u4o2a5h3s-4>li:before{content:"\0025cb  "}.lst-kix_jmcswpwgb9p3-4>li:before{content:"\0025cb  "}.lst-kix_jmcswpwgb9p3-6>li:before{content:"\0025cf  "}.lst-kix_1u7u4o2a5h3s-3>li:before{content:"\0025cf  "}.lst-kix_1u7u4o2a5h3s-5>li:before{content:"\0025a0  "}.lst-kix_1u7u4o2a5h3s-0>li:before{content:"\0025cf  "}ul.lst-kix_1u7u4o2a5h3s-1{list-style-type:none}.lst-kix_1u7u4o2a5h3s-8>li:before{content:"\0025a0  "}ul.lst-kix_1u7u4o2a5h3s-0{list-style-type:none}.lst-kix_jmcswpwgb9p3-2>li:before{content:"\0025a0  "}.lst-kix_1u7u4o2a5h3s-7>li:before{content:"\0025cb  "}.lst-kix_jmcswpwgb9p3-3>li:before{content:"\0025cf  "}.lst-kix_1u7u4o2a5h3s-6>li:before{content:"\0025cf  "}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}.lst-kix_jmcswpwgb9p3-8>li:before{content:"\0025a0  "}.lst-kix_1u7u4o2a5h3s-1>li:before{content:"\0025cb  "}.lst-kix_jmcswpwgb9p3-7>li:before{content:"\0025cb  "}.lst-kix_1u7u4o2a5h3s-2>li:before{content:"\0025a0  "}ol{margin:0;padding:0}table td,table th{padding:0}.c4{border-right-style:solid;padding-top:0pt;border-top-width:0pt;border-bottom-color:#d9d9e3;border-right-width:0pt;padding-left:0pt;border-left-color:#d9d9e3;padding-bottom:0pt;line-height:1.0;border-right-color:#d9d9e3;border-left-width:0pt;border-top-style:solid;background-color:#f7f7f8;margin-left:36pt;border-left-style:solid;border-bottom-width:0pt;border-top-color:#d9d9e3;border-bottom-style:solid;text-align:left;padding-right:0pt}.c20{border-right-style:solid;padding-top:0pt;border-top-width:0pt;border-bottom-color:#d9d9e3;border-right-width:0pt;padding-left:0pt;border-left-color:#d9d9e3;padding-bottom:0pt;line-height:1.33333;border-right-color:#d9d9e3;border-left-width:0pt;border-top-style:solid;background-color:#f7f7f8;border-left-style:solid;border-bottom-width:0pt;border-top-color:#d9d9e3;border-bottom-style:solid;text-align:left;padding-right:0pt}.c12{border-right-style:solid;padding-top:0pt;border-top-width:0pt;border-bottom-color:#d9d9e3;border-right-width:0pt;padding-left:0pt;border-left-color:#d9d9e3;padding-bottom:0pt;line-height:1.11111;border-right-color:#d9d9e3;border-left-width:0pt;border-top-style:solid;background-color:#f7f7f8;border-left-style:solid;border-bottom-width:0pt;border-top-color:#d9d9e3;border-bottom-style:solid;text-align:left;padding-right:0pt}.c6{border-right-style:solid;padding-top:0pt;border-top-width:0pt;border-bottom-color:#d9d9e3;border-right-width:0pt;padding-left:0pt;border-left-color:#d9d9e3;padding-bottom:0pt;line-height:1.0;border-right-color:#d9d9e3;border-left-width:0pt;border-top-style:solid;background-color:#f7f7f8;border-left-style:solid;border-bottom-width:0pt;border-top-color:#d9d9e3;border-bottom-style:solid;text-align:left;padding-right:0pt}.c13{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:left;height:11pt}.c11{background-color:#f7f7f8;color:#374151;font-weight:400;font-size:9pt;font-family:"Roboto"}.c0{font-size:12pt;font-family:"Roboto";color:#374151;font-weight:400}.c15{color:#000000;font-weight:400;font-size:11pt;font-family:"Arial"}.c3{font-size:10.5pt;font-family:"Roboto";color:#374151;font-weight:400}.c9{color:#000000;font-weight:700;font-size:17pt;font-family:"Roboto"}.c8{padding-top:0pt;padding-bottom:0pt;line-height:1.71429;text-align:left}.c17{color:#000000;font-weight:700;font-size:26pt;font-family:"Arial"}.c18{color:#000000;font-weight:700;font-size:52pt;font-family:"Roboto"}.c7{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c21{background-color:#f7f7f8;font-size:9.5pt;color:#00a67d}.c10{background-color:#f7f7f8;font-size:9.5pt;color:#df3079}.c2{background-color:#f7f7f8;font-size:9.5pt;color:#ffffff}.c16{background-color:#f7f7f8;font-size:9.5pt;color:#f22c3d}.c5{text-decoration:none;vertical-align:baseline;font-style:normal}.c1{background-color:#f7f7f8;font-size:9.5pt;color:#2e95d3}.c19{font-weight:400;font-family:"Arial"}.c14{padding:0;margin:0}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c7 doc-content"><p class="c12 title" id="h.cuebcua87n8"><span class="c5 c17">Go GRPC Server</span></p><p class="c6"><span class="c0 c5">This is a Go GRPC server that listens on port 8080 and serves chart data. It uses the following packages:</span></p><ul class="c14 lst-kix_jmcswpwgb9p3-0 start"><li class="c4 li-bullet-0"><span class="c3">fmt</span><span class="c0 c5">&nbsp;for formatting strings</span></li><li class="c4 li-bullet-0"><span class="c3">google.golang.org/grpc</span><span class="c0 c5">&nbsp;for the gRPC server</span></li><li class="c4 li-bullet-0"><span class="c3">net</span><span class="c0 c5">&nbsp;for network functionality</span></li><li class="c4 li-bullet-0"><span class="c3">log</span><span class="c0 c5">&nbsp;for logging events</span></li><li class="c4 li-bullet-0"><span class="c3">server/helpers</span><span class="c0 c5">&nbsp;for helper functions</span></li><li class="c4 li-bullet-0"><span class="c3">server/charts</span><span class="c0 c5">&nbsp;for chart data service</span></li></ul><p class="c6"><span class="c0 c5">The server starts by creating a listener on the specified port and then initializing a new gRPC server. The chart data service is registered with the server and it begins serving incoming requests. Any errors that occur during the process are logged and the server exits.</span></p><p class="c13"><span class="c15 c5"></span></p><p class="c13"><span class="c15 c5"></span></p><h1 class="c12" id="h.bxweeiddrvz2"><span class="c5 c18">Package helpers</span></h1><p class="c6"><span class="c0">This package contains a struct </span><span class="c3">Server</span><span class="c0">&nbsp;and two methods </span><span class="c3">GetLineChartData</span><span class="c0">&nbsp;and </span><span class="c3">GetBarChartData</span><span class="c0 c5">.</span></p><h2 class="c20" id="h.rvkecc92i6ws"><span class="c9 c5">Struct Server</span></h2><p class="c8"><span class="c5 c11">Copy code</span></p><p class="c8"><span class="c1">type</span><span class="c2">&nbsp;Server </span><span class="c1">struct</span><span class="c2 c5 c19">&nbsp;{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pb.UnimplementedChartDataServiceServer }</span></p><p class="c6"><span class="c0">This struct embeds </span><span class="c3">pb.UnimplementedChartDataServiceServer</span><span class="c0">&nbsp;from the package </span><span class="c3">server/charts</span><span class="c0 c5">.</span></p><h2 class="c20" id="h.o6msv2p3hsq"><span class="c9 c5">Method GenerateData</span></h2><p class="c8"><span class="c11 c5">Copy code</span></p><p class="c8"><span class="c1">func</span><span class="c2">&nbsp;</span><span class="c16">GenerateData</span><span class="c2">() { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println(</span><span class="c21">&quot;hello World&quot;</span><span class="c2 c5 c19">) }</span></p><p class="c6"><span class="c0 c5">This method simply prints &quot;hello World&quot; on the console.</span></p><h2 class="c20" id="h.1ievzzcj02xa"><span class="c5 c9">Method GetLineChartData</span></h2><p class="c8"><span class="c11 c5">Copy code</span></p><p class="c8"><span class="c1">func</span><span class="c2">&nbsp;(s *Server) GetLineChartData(req *pb.ChartRequest, stream pb.ChartDataService_GetLineChartDataServer) </span><span class="c10">error</span><span class="c2">&nbsp;{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">for</span><span class="c2">{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">if</span><span class="c2">&nbsp;err := stream.Send(&amp;pb.ChartResponse{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X : time.Now().UnixMilli(), &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Y : </span><span class="c10">int64</span><span class="c2">(rand.Intn(</span><span class="c10">150</span><span class="c2">&nbsp;- </span><span class="c10">30</span><span class="c2">&nbsp;+ </span><span class="c10">1</span><span class="c2">) + </span><span class="c10">30</span><span class="c2">), &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}); err != </span><span class="c1">nil</span><span class="c2">&nbsp;{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">return</span><span class="c2">&nbsp;err &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time.Sleep(time.Second * </span><span class="c10">4</span><span class="c2">) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">return</span><span class="c2">&nbsp;</span><span class="c1">nil</span><span class="c2 c5 c19">&nbsp;}</span></p><p class="c6"><span class="c0">This method is a gRPC service method that accepts a </span><span class="c3">ChartRequest</span><span class="c0">&nbsp;and a </span><span class="c3">ChartDataService_GetLineChartDataServer</span><span class="c0">&nbsp;stream. It then enters an infinite loop that sends a </span><span class="c3">ChartResponse</span><span class="c0">&nbsp;to the stream with the current time in Unix milliseconds as the value of </span><span class="c3">X</span><span class="c0">&nbsp;and a random number between 30 and 150 as the value of </span><span class="c3">Y</span><span class="c0">. The loop sleeps for 4 seconds before sending the next </span><span class="c3">ChartResponse</span><span class="c0 c5">.</span></p><h2 class="c20" id="h.l0ymqtqx6v0m"><span class="c9 c5">Method GetBarChartData</span></h2><p class="c8"><span class="c11 c5">Copy code</span></p><p class="c8"><span class="c1">func</span><span class="c2">&nbsp;(s *Server) GetBarChartData(req *pb.ChartRequest, stream pb.ChartDataService_GetBarChartDataServer) </span><span class="c10">error</span><span class="c2">&nbsp;{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">for</span><span class="c2">{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">if</span><span class="c2">&nbsp;err := stream.Send(&amp;pb.ChartResponse{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X : time.Now().UnixMilli(), &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Y : </span><span class="c10">int64</span><span class="c2">(rand.Intn(</span><span class="c10">150</span><span class="c2">&nbsp;- </span><span class="c10">30</span><span class="c2">&nbsp;+ </span><span class="c10">1</span><span class="c2">) + </span><span class="c10">30</span><span class="c2">), &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}); err != </span><span class="c1">nil</span><span class="c2">&nbsp;{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">return</span><span class="c2">&nbsp;err &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time.Sleep(time.Second * </span><span class="c10">4</span><span class="c2">) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">return</span><span class="c2">&nbsp;</span><span class="c1">nil</span><span class="c2 c5 c19">&nbsp;}</span></p><p class="c6"><span class="c0">This method is similar to </span><span class="c3">GetLineChartData</span><span class="c0">, but it serves as a gRPC service method for the </span><span class="c3">GetBarChartData</span><span class="c0">&nbsp;endpoint. It also sends a </span><span class="c3">ChartResponse</span><span class="c0">&nbsp;to the stream with the current time in Unix milliseconds as the value of </span><span class="c3">X</span><span class="c0">&nbsp;and a random number between 30 and 150 as the value of </span><span class="c3">Y</span><span class="c0">, but it sleeps for 4 seconds before sending the next </span><span class="c3">ChartResponse</span><span class="c0 c5">.</span></p><p class="c13"><span class="c5 c15"></span></p></body></html>